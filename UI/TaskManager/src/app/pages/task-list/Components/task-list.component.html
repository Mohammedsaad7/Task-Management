<app-header></app-header>
<div class="centered-component">
    <div class="container">
        <div class="sidebar">
            <h2>Select task range</h2>
            <div>
                <div [class]="selectedRangeClass('Today')" (click)="loadTasks('Today',this.selectedStatus)">Today</div>
                <!-- Angular component for today's tasks -->
            </div>
            <div>
                <div [class]="selectedRangeClass('Week')" (click)="loadTasks('Week',this.selectedStatus)">Upcoming Week</div>
                <!-- Angular component for next 7 days tasks -->
            </div>
            <div>
                <div [class]="selectedRangeClass('Month')" (click)="loadTasks('Month',this.selectedStatus)">Upcoming Month</div>
                <!-- Angular component for next month tasks -->
            </div>
            <div>
                <div [class]="selectedRangeClass('All')" (click)="loadTasks('All',this.selectedStatus)">All Upcoming Tasks</div>
                <!-- Angular component for all tasks -->
            </div>
            <div>
                <div [class]="selectedRangeClass('Backlog')" (click)="loadTasks('Backlog',this.selectedStatus)">Completed Tasks</div>
                <!-- Angular component for backlog tasks -->
            </div>
            <div>
                <div [class]="selectedRangeClass('Expired')" (click)="loadTasks('Expired',this.selectedStatus)">Past Due Date</div>
                <!-- Angular component for backlog tasks -->
            </div>
        </div>
        <div class="taskContainer">
        <div class="taskSection">
            <!-- Angular component for displaying tasks -->
            <div class="rightHeader">
            <h2>Tasks</h2>
            <div class="mb-3" *ngIf="this.selectedRange!='Expired' && this.selectedRange!='Backlog'">
                <mat-form-field>
                  <mat-label>Select a status</mat-label>
                  <mat-select id="statusId" name="statusId" [(value)]="this.selectedStatus" (selectionChange)="loadTasks(this.selectedRange,$event.value)">
                    <mat-option [value]="0">All</mat-option>
                    <mat-option *ngFor="let status of statuses" [value]="status.id">{{status.name}}</mat-option>
                  </mat-select>
                </mat-form-field>
              </div>
              </div>  
            <div class="task" *ngFor="let task of tasks">
                <span>{{ task.name }}</span>
                <div class="buttons-container">
                    <button class="material-icons updateIcon" (click)="openEditDialog(task.id!)">
                        edit
                    </button>
                    <button class="material-icons deleteIcon" (click)="deleteTask(task.id!)">
                        delete
                    </button>
                </div>
            </div>
            <button id="add-button" class="task" (click)="openDialog()">+ Add Task</button>
        </div>
        </div>
    </div>
</div>